<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>
        <!-- now this is renamed to Schedule Appointments -->

        <!-- Dashboard Group -->

        <!-- Dashboard Category-->
        <record id="module_ecare_user_dashboard_category" model="ir.module.category">
            <field name="name">Schedule Appointment</field>
            <field name="parent_id" ref="ecare_appointment.module_ecare_parent_category"/>
            <field name="sequence">103</field>
            <field name="visible" eval="0"/>
        </record>


        <!-- Patient Create + Appointment Create -->

        <record id="group_dashboard_menu" model="res.groups">
            <field name="name">View</field>
            <field name="category_id" ref="ecare_user_management.module_ecare_user_dashboard_category"/>
            <field name="comment">Dashboard View Access</field>
            <field name="implied_ids" eval="[(4, ref('ecare_user_management.group_patient_menu')),
            (4, ref('ecare_user_management.group_appointment_menu'))]"/>
        </record>

        <record id="group_dashboard_edit" model="res.groups">
            <field name="name">Edit</field>
            <field name="category_id" ref="ecare_user_management.module_ecare_user_dashboard_category"/>
            <field name="comment">Dashboard Edit Access</field>
            <field name="implied_ids" eval="[(4, ref('ecare_user_management.group_dashboard_menu')),
            (4, ref('ecare_user_management.group_patient_edit')),
            (4, ref('ecare_user_management.group_appointment_edit'))]"/>
        </record>

        <record id="group_dashboard_create" model="res.groups">
            <field name="name">Create</field>
            <field name="category_id" ref="ecare_user_management.module_ecare_user_dashboard_category"/>
            <field name="comment">Dashboard Create Access</field>
            <field name="implied_ids" eval="[(4, ref('ecare_user_management.group_dashboard_edit')),
            (4, ref('ecare_user_management.group_patient_create')),
            (4, ref('ecare_user_management.group_appointment_create'))]"/>
        </record>

        <record id="group_dashboard_all" model="res.groups">
            <field name="name">All</field>
            <field name="category_id" ref="ecare_user_management.module_ecare_user_dashboard_category"/>
            <field name="comment">Dashboard All Access</field>
            <field name="implied_ids" eval="[(4, ref('ecare_user_management.group_dashboard_create')),
            (4, ref('ecare_user_management.group_patient_all')),
            (4, ref('ecare_user_management.group_appointment_all'))]"/>
        </record>



        <menuitem id="ecare_appointment.menu_project_dashboard"
                  name="Schedule Appointments"
                  action="ecare_appointment.ec_appointment_action_dashboard"
                  parent="ecare_appointment.slots_record_menu"
                  groups="group_dashboard_menu"
                  sequence="100"/>
    </data>
</odoo>