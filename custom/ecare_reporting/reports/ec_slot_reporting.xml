<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <data>

        <report
                id="ec_slot_report"
                model="ec.slot.reporting"
                string="Report"
                report_type="qweb-pdf"
                name="ecare_reporting.ec_slot_report_doc"
                file="Slot Report"
                paperformat="custom_slot"
        />



        <template id="ec_slot_report_doc">
            <t t-call="web.html_container">

                <div class="page" style="margin-top:10px">
                    <div style="padding-top:5px;padding-bottom:10px;text-align:center"><h1 t-esc="category_name+ ' Report'"></h1></div>
                    <div style="text-align:left;padding-left:30px;padding-bottom:5px;">
                        <small><b>Date : </b> <span t-esc="date_picker_field"></span></small>

                    </div>
                    <div style="padding-left:20px;padding-right:20px;">

                        <t t-foreach="slot_record_list" t-as="record" >

                            <table  style=" border: 1px solid #ddd;
                                border-collapse: collapse;
                                table-layout: fixed;
                                ">
                                <thead style="margin-top:20px;padding-top:30px;">

                                    <tr style="background-color: #f5f5f5;
                                          border: 1px solid #ddd;
                                          padding: .35em;
                                          margin-top:20px;
                                          padding-top:30px;
                                         ">
                                        <th style="
                                          width:100px !important; max-width:100px !important;padding: .625em; text-align: left;font-size: .85em; letter-spacing: .1em; text-transform: uppercase;" id="th">Time Slots</th>
                                        <t t-foreach="record['sub_categories']" t-as="sub_category">
                                            <th style="padding: .625em;
                                                 width : 300px !important;
                                                 max-width:300px !important;
                                              text-align: left;font-size: .85em;
                                              letter-spacing: .1em;
                                              border: 1px solid #ddd;

                                              text-transform: uppercase;" id="th">
                                                <span style="white-space: pre-line">
                                                    <t t-out="sub_category['sub_category_name']"/>
                                                </span>
                                            </th>




                                        </t>

                                    </tr>

                                </thead>
                                <tbody>
                                    <t t-foreach="record['data']" t-as="data">
                                        <tr style="
                                      background-color: '';
                                      border: 1px solid #ddd;
                                      padding: .35em;

                                   " >

                                            <t>
                                                <td style="padding: .625em;
                                              text-align: left;
                                              width:100px !important;
                                              font-size: .85em;
                                              border: 1px solid #ddd;
                                              letter-spacing: .1em;
                                              height: 80px !important;
                                              min-height: 80px !important;
                                              text-transform: uppercase;

                                              "
                                                    id="th" class="time_slot">
                                                    <t t-out="data['time']"/>
                                                </td>
                                            </t>
                                            <t t-foreach="data['slots']" t-as="slot">



                                                <td style="padding: .625em;
                                          text-align: left;
                                          border: 1px solid #ddd;
                                          ">

                                                    <t  t-if="slot['status'] == 'Available'" >

                                                    </t>

                                                    <t t-if="slot['status'] == 'Booked'">
                                                        <div style="word-break: break-word" >
                                                            <small> <t t-out="slot['consultantName']"/></small>
                                                            <br/>
                                                            <small> <t t-out="slot['mr_no']"/></small>
                                                            <br/>
                                                            <small> <t t-out="slot['patient_name']"/></small>
                                                            <br/>
                                                            <small> <t t-out="slot['product']"/></small>
                                                            <br/>
                                                            <small> <t t-out="slot['comment']"/></small>
                                                        </div>
                                                    </t>

                                                    <t  t-if="slot['status'] == 'Blocked'">

                                                    </t>

                                                </td>

                                            </t>

                                        </tr>
                                    </t>

                                </tbody>

                            </table>
                            <!--                            <p style="page-break-after: always;"></p>-->
                            <div style="margin-top:20px"></div>
                            <!--                            <p style="page-break-before: always;">&nbsp;</p>-->
                        </t>
                    </div>



                </div>

            </t>
        </template>


    </data>
</odoo>