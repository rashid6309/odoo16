<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>

        <!-- Kanban view -->

        <!-- Explicit Form Action -->

        <record id="ec_semen_analysis_form_view" model="ir.ui.view">
            <field name="name">ec.semen.analysis.form.view</field>
            <field name="model">ec.semen.analysis</field>
            <field name="arch" type="xml">
                <form>
                    <div style="margin-top: -2%;">
                        <field name="semen_patient_id" style="display:block;" widget="banner_summary_widget"/>
                    </div>
                    <group>
                        <group>
                            <field name="semen_patient_id"/>
                            <field name="date"/>
                            <field name="lab_number"/>
                            <field name="lab_name" options="{'no_create': True, 'no_open': True, 'no_quick_create': True}"/>
                            <field name="preparation_ids"  widget="many2many_checkboxes"/>
                            <field name="sample_produced_at_lab" widget="radio" options="{'horizontal': True}"/>
                            <field name="repeat_semen_analysis" widget="radio" options="{'horizontal': True}"/>
                            <field name="freezing" widget="radio" options="{'horizontal': True}"/>
                        </group>
                    </group>



                    <div class="d-flex ">
                        <div class="col-md-1" style=" width: 13%;">
                            <label for="abstinence"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="abstinence"/>
                            </div>
                            <div>
                                <div><span>days</span> <span>Range:3-5</span></div>
                            </div>
                        </div>
                    </div>

                    <group>
                        <group>
                            <field name="production_time"/>
                            <field name="analysis_time"/>
                            <field name="liquifaction_time"/>
                            <field name="color"/>
                        </group>
                    </group>

                    <div class="d-flex ">
                        <div class="col-md-1" style=" width: 13%;">
                            <label for="ph"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="ph"/>
                            </div>
                            <div>
                                <div>Range:7.2-8.2</div>
                            </div>
                        </div>
                    </div>

                    <div class="d-flex ">
                        <div class="col-md-1" style=" width: 13%;">
                            <label for="viscosity"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="viscosity"/>
                            </div>
                        </div>
                    </div>

                    <div class="d-flex ">
                        <div class="col-md-1" style=" width: 13%;">
                            <label for="volume"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="volume"/>
                            </div>
                            <div>
                                <div>ml Range:1.5-5</div>
                            </div>
                        </div>
                    </div>

                    <div class="d-flex ">
                        <div class="col-md-1" style=" width: 13%;">
                            <label for="total_count"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="total_count"/>
                            </div>
                            <div>
                                <div>million/ml Range: >20</div>
                            </div>
                        </div>
                    </div>


                    <div class="d-flex ">
                        <div class="col-md-1" style=" width: 13%;">
                            <label for="motility"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="motility"/>
                            </div>
                            <div>
                                <div>% Range: >40</div>
                            </div>
                        </div>
                    </div>

                    <!--    progression-->
                    <div class="d-flex flex-column col-lg-7">
                        <div class="d-flex align-items-center bg-light bg-gradient">
                            <div class="col-md-2">
                                Progression
                            </div>
                            <div class="col-md-11 ">
                                <div class="d-flex">
                                    <label for="progression_f_forward"/>
                                    <field name="progression_f_forward"/>
                                    <span>%</span>
                                </div>
                                <div class="d-flex">
                                    <label for="progression_s_forward"/>
                                    <field name="progression_s_forward"/>
                                    <span>%</span>
                                </div>
                                <div class="d-flex">
                                    <label for="progression_lateral"/>
                                    <field name="progression_lateral"/>
                                    <span>%</span>
                                </div>
                                <div class="d-flex">
                                    <label for="progression_non_progressive"/>
                                    <field name="progression_non_progressive"/>
                                    <span>%</span>
                                </div>
                                <div class="d-flex">
                                    <label for="progression_dead"/>
                                    <field name="progression_dead"/>
                                    <span>%</span>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="d-flex ">
                        <div class="col-md-1" style=" width: 13%;">
                            <label for="wbcs"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="wbcs"/>
                            </div>
                            <div>
                                <div>/HPF Range: 06 - 10</div>
                            </div>
                        </div>
                    </div>


                    <group>
                        <group>
                            <field name="agglutination" widget="radio" options="{'horizontal': True}"/>
                            <field name="debris" widget="radio" options="{'horizontal': True}"/>
                            <field name="bacteria" widget="radio" options="{'horizontal': True}"/>
                            <!--                            Unit is missing for below field will add later-->
                        </group>
                    </group>
                    <div class="d-flex ">
                        <div class="col-md-1">
                            <label for="epi_cells_immature_cells"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="epi_cells_immature_cells"/>
                            </div>
                            <div>
                                <div>/HPF</div>
                            </div>
                        </div>
                    </div>

                    <group>
                        <group>
                            <field name="other_observation"/>
                        </group>
                    </group>
                    <group string="Sperm Morphology"/>
                    <div class="d-flex ">
                        <div class="col-md-1">
                            <label for="normal"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="normal"/>
                            </div>
                            <div>
                                <span>%</span>
                                <span>  Range>5</span>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex ">
                        <div class="col-md-1">
                            <label for="abnormal"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="abnormal"/>
                            </div>
                            <div>
                                <span>%</span>
                            </div>
                        </div>
                    </div>
                    <!--    Defects-->
                    <div class="d-flex flex-column col-lg-7">
                        <div class="d-flex align-items-center bg-light bg-gradient">
                            <div class="col-md-2">
                                Defects
                            </div>
                            <div class="col-md-9">
                                <div class="d-flex">
                                    <label for="cephalic"/>
                                    <field name="cephalic"/>
                                    <span>%</span>
                                </div>
                                <div class="d-flex">
                                    <label for="mid_piece"/>
                                    <field name="mid_piece"/>
                                    <span>%</span>
                                </div>
                                <div class="d-flex">
                                    <label for="tail"/>
                                    <field name="tail"/>
                                    <span>%</span>
                                </div>
                                <div class="d-flex">
                                    <label for="acrosomal_cap"/>
                                    <field name="acrosomal_cap"/>
                                    <span>%</span>
                                </div>
                                <div class="d-flex">
                                    <label for="vacoules"/>
                                    <field name="vacoules"/>
                                    <span>%</span>
                                </div>
                            </div>
                        </div>

                    </div>
                    <group string="Preparation Method">
                        <group>
                            <field name="method"/>
                        </group>
                    </group>

                    <div class="d-flex ">
                        <div class="col-md-2">
                            <label for="prep_conc"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="prep_conc"/>
                            </div>
                            <div>
                                <div>million/ejaculate </div>
                            </div>
                        </div>
                    </div>

                    <div class="d-flex ">
                        <div class="col-md-2">
                            <label for="motility_percentage"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="motility_percentage"/>
                            </div>
                            <div>
                                <div>%</div>
                            </div>
                        </div>
                    </div>

                    <div class="d-flex ">
                        <div class="col-md-2">
                            <label for="progression"/>
                        </div>
                        <div class="d-progression">
                            <div>
                                <field name="progression"/>
                            </div>
                        </div>
                    </div>

                    <div class="d-flex ">
                        <div class="col-md-2">
                            <label for="after_24_hrs_motility_percentage"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="after_24_hrs_motility_percentage"/>
                            </div>
                            <div>
                                <div>%</div>
                            </div>
                        </div>
                    </div>

                    <div class="d-flex ">
                        <div class="col-md-2">
                            <label for="after_24_hrs_progression"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="after_24_hrs_progression"/>
                            </div>
                        </div>
                    </div>

                    <div class="d-flex ">
                        <div class="col-md-2">
                            <label for="comments"/>
                        </div>
                        <div class="d-flex">
                            <div>
                                <field name="comments"/>
                            </div>
                        </div>
                    </div>
                    <group>
                        <field name="suitable_for_ids" widget="many2many_checkboxes"/>
                    </group>

                    <div class="d-flex flex-column col-lg-8">
                        <div class="d-flex align-items-center bg-light bg-gradient">
                            <div class="col-md-2">
                                Sperm Cryopreservation
                            </div>
                            <div class="col-md-11 ">
                                <div class="d-flex align-items-center">
                                    <field class="mb-0" name="sperm_cryopreservation_consented"/>
                                    <label for="sperm_cryopreservation_consented" string="Consented"/>
                                    <label for="sperm_cryopreservation_strawe" string="No. Strawe"/>
                                    <field name="sperm_cryopreservation_strawe"/>
                                    <label for="sperm_cryopreservation_code" string="Storage Code"/>
                                    <field name="sperm_cryopreservation_code"/>
                                </div>
                            </div>
                        </div>

                    </div>

                    <group string="Additional Info" class="semen_analysis_div">
                        <group>
                            <field name="seminologist"/>
                            <field name="special_notes"/>
                        </group>
                    </group>
                </form>
            </field>
        </record>

        <record id="ec_semen_analysis_tree_view" model="ir.ui.view">
            <field name="name">ec.semen.analysis.tree.view</field>
            <field name="model">ec.semen.analysis</field>
            <field name="arch" type="xml">
                <tree create="1">
                    <field name="semen_patient_id"/>
                    <field name="date"/>
                    <field name="lab_number"/>
                    <field name="lab_name"/>
                </tree>
            </field>
        </record>

        <!-- Explicit action -->
        <record id="ec_semen_analysis_create_action" model="ir.actions.act_window">
            <field name="name">Semen Analysis</field>
            <field name="res_model">ec.semen.analysis</field>
            <field name="view_mode">form</field>
            <field name="target">current</field>
        </record>
        <record id="ec_semen_analysis_action" model="ir.actions.act_window">
            <field name="name">Semen Analysis</field>
            <field name="res_model">ec.semen.analysis</field>
            <field name="view_mode">tree,form</field>
            <field name="target">current</field>
        </record>


        <menuitem id="ec_medical_history_semen_analysis"
                  name="Semen Analysis"
                  parent="ec_medical_history_andrology"
                  sequence="100"/>

        <menuitem id="ec_medical_history_semen_analysis_all"
                  name="Semen Analysis"
                  parent="ec_medical_history_semen_analysis"
                  action="ecare_medical_history.ec_semen_analysis_action"
                  sequence="110"/>

    </data>
</odoo>