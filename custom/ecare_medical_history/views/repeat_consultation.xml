<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>

        <!-- Explicit Kanban View -->

        <record id="view_ec_repeat_consultation_kanban" model="ir.ui.view">
            <field name="name">ec.repeat.consultation.kanban</field>
            <field name="model">ec.repeat.consultation</field>
            <field name="arch" type="xml">
                <kanban create="0" class="oe_background_grey max_width_kanban">
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_card  w-100 repeat_kanban">
                                <t t-set="rec_id" t-value="record.id.raw_value"/>
                                <div>
                                    <div class="d-flex" style="justify-content: space-between">
                                        <div>
                                            Consultation Date
                                            <b> / </b>
                                            <field name="repeat_date"/>
                                        </div>
                                        <div class="text-center font-weight-bold d-flex align-items-end">

                                            <div>

                                                <a name="action_set_working_consultation"
                                                   type="object"
                                                   string="Edit"
                                                   class="repeat_kanban_button"
                                                   onclick="scrollToElement('repeat_consultation_section')">
                                                    <i class="fa fa-edit fa-2x" aria-hidden="true"/>
                                                </a>

                                            </div>

                                            <div>
                                                <a data-bs-toggle="collapse"
                                                   t-att-data-bs-target="'#family_history_section_' + rec_id" href="#">
                                                    <i class="fa fa-bars fa-2x" aria-hidden="true"/></a>
                                            </div>

                                        </div>
                                    </div>
                                    <hr/>


                                </div>
                                <div class="card-block mb-5 pl-4 collapse" t-att-id="'family_history_section_' + rec_id">
                                    <section>
                                        <div class="row">
                                            <div class="col-12 family-history">
                                                <div class="bd-example" data-example-id="">
                                                    <div id="accordion" role="tablist" aria-multiselectable="true">
                                                        <div class="o_group row align-items-start">

                                                            <div class="o_inner_group grid col-lg-6 text-900">
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Consultation Date</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_date"/>
                                                                    </div>
                                                                </div>

                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Interaction</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_consultation_interaction" />
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Consultation with</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_consultation_with"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Seen by</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_seen_by"/>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="o_inner_group grid col-lg-6 text-900">
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Location</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_location_id"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Status</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_status"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Other Present</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_seen_with_other"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Other Doctors Present</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_other_doctors_present"/>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>




                                                        <div class="oe_kanban_title">
                                                            <field name="question_one_label"/>
                                                            <h5 style="display: inline-block;"><field name="question_one_choice"/></h5>
                                                        </div>
                                                        <div class="oe_kanban_title">
                                                            <field name="question_two_label"/>
                                                            <h5 style="display: inline-block;"><field name="question_two_choice"/></h5>
                                                        </div>
                                                        <div class="oe_kanban_title">
                                                            <field name="question_three_label"/>
                                                            <h5 style="display: inline-block;"><field name="question_three_choice"/></h5>
                                                        </div>

                                                        <div class="o_group row align-items-start">

                                                            <div class="o_inner_group grid col-lg-12 text-900">
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Is the couple living together?</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="is_couple_living_together"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Is the couple using contraception?</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="is_couple_using_contraception" />
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Note</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_note"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Examination Required</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_examination_required"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">GPE</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_gpe"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Thyroid</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_thyroid" />
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Abdominal</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_abdominal"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Breast</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_breast"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Pelvic Examination State</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_pelvic_examination_state"/>
                                                                    </div>
                                                                </div>

                                                                <div class="d-flex d-sm-contents">
                                                                    <div>
                                                                        <span class="o_form_label">Inspection Only</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="inspection_only"/>
                                                                    </div>
                                                                    <div>
                                                                        <span class="o_form_label">P/S Only</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="p_s_only"/>
                                                                    </div>
                                                                    <div>
                                                                        <span class="o_form_label">P/V Only</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="p_v_only"/>
                                                                    </div>
                                                                </div>

                                                                <div class="d-flex d-sm-contents flex-column oe_left">
                                                                    <div>
                                                                        <span class="o_form_label">Findings on Inspection</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_findings_on_inspection"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Valva/Vaginal Exam</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_valva_vaginal_exam"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Cervix</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_cervix"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Uterus and Adnexae</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_uterus_and_adnexae" />
                                                                    </div>
                                                                </div>

                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Swab Taken</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_swab_taken"/>
                                                                    </div>
                                                                    <div>
                                                                        <span class="o_form_label">HVS</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_hvs"/>
                                                                    </div>
                                                                    <div>
                                                                        <span class="o_form_label">Endocervical</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_endocervical"/>
                                                                    </div>
                                                                    <div>
                                                                        <span class="o_form_label">No Swab Taken</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_no_swab_taken"/>
                                                                    </div>
                                                                </div>

                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Method of HVS</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_method_of_hvs"/>
                                                                    </div>
                                                                </div>

                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Pap Smear Done</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_pap_smear_done"/>
                                                                    </div>
                                                                    <div>
                                                                        <span class="o_form_label">Pipelle Sampling Done</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_pipelle_sampling_done"/>
                                                                    </div>
                                                                </div>

                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Other Findings</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_other_findings"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Scan Required</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="scan_required"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Ultrasound Type</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_ultrasound_type"/>
                                                                    </div>
                                                                </div>

                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Uterus TVS Size</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="tvs_uterus_tvs_size"/>
                                                                    </div>
                                                                    <div>
                                                                        <span class="o_form_label">Uterus TVS Position</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="tvs_uterus_tvs_position"/>
                                                                    </div>
                                                                    <div>
                                                                        <span class="o_form_label">Uterus TVS Normal</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="tvs_uterus_tvs_normal"/>
                                                                    </div>
                                                                    <div>
                                                                        <span class="o_form_label">Uterus TVS Fiobrid</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="tvs_uterus_tvs_fiobrid"/>
                                                                    </div>
                                                                </div>

                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Uterus Size X</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="tvs_uterus_size_x"/>
                                                                    </div>
                                                                    <div>
                                                                        <span class="o_form_label">Uterus Size Y</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="tvs_uterus_size_y"/>
                                                                    </div>
                                                                </div>


                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">ROV</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="tvs_rov"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">LOV</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="tvs_lov"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Other Text</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="tvs_other_text"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Counseling and Discussion done</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="counseling_and_discussion"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Diagnosis</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_diagnosis"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Investigations</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_investigations_ids"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Treatment Plan</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_treatment_plan"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Treatment Advised</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_treatment_advised_ids"/>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex d-sm-contents flex-column">
                                                                    <div>
                                                                        <span class="o_form_label">Repeat New Treatment Pathway</span>
                                                                    </div>
                                                                    <div>
                                                                        <field name="repeat_new_treatment_pathway"/>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>


                                                        <table t-attf-class="o_group m-0 table_spacing_style">
                                                            <tbody>







                                                                <!--                                                                <tr>-->
                                                                <!--                                                                    <td class="o_td_label">-->
                                                                <!--                                                                        <label for="lining_ids" class="o_form_label">Linining</label>-->
                                                                <!--                                                                    </td>-->
                                                                <!--                                                                    <td><field name="lining_ids" widget="many2many_checkboxes" class="oe_inline" nolabel="1"/></td>-->
                                                                <!--                                                                </tr>-->



                                                                <tr t-if="record.tvs_rov.raw_value">
                                                                    <td class="o_td_label">
                                                                        <label for="tvs_rov" class="o_form_label">ROV</label>
                                                                    </td>
                                                                    <td><field name="tvs_rov"/></td>
                                                                </tr>


                                                            </tbody>
                                                        </table>


                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </t>

                    </templates>
                </kanban>
            </field>
        </record>

        <!-- Explicit Action -->
        <record id="repeat_consultation_action" model="ir.actions.act_window">
            <field name="name">Repeat Consultation</field>
            <field name="res_model">ec.repeat.consultation</field>
            <field name="view_mode">tree,form,kanban</field>
            <field name="target">current</field>
        </record>

    </data>
</odoo>
